{
    "python-envs.defaultEnvManager": "ms-python.python:conda",
    "python-envs.defaultPackageManager": "ms-python.python:conda",
    "python-envs.pythonProjects": [],
    "chat.tools.terminal.autoApprove": {
        "EOF": true,
        "/^python - <<'PY'\nfrom pathlib import Path\npath = Path\\('/Users/alex/works/pain/src/main\\.rs'\\)\ncontent = '''mod drawing;\n\nuse drawing::\\{CanvasEvent, Draft, Shape, Tool\\};\nuse iced::widget::\\{button, column, pick_list, row, slider, text\\};\nuse iced::\\{Alignment, Color, Element, Length, Size, Task\\};\n\n#\\[derive\\(Debug, Clone\\)\\]\nenum Message \\{\n    ToolChanged\\(Tool\\),\n    StrokeWidthChanged\\(f32\\),\n    Undo,\n    Clear,\n    Canvas\\(CanvasEvent\\),\n\\}\n\nfn wrap_canvas_event\\(e: CanvasEvent\\) -> Message \\{\n    Message::Canvas\\(e\\)\n\\}\n\n#\\[derive\\(Debug\\)\\]\nstruct App \\{\n    tool: Tool,\n    stroke_width: f32,\n    stroke_color: Color,\n    shapes: Vec<Shape>,\n    draft: Draft,\n    cache: iced::widget::canvas::Cache,\n\\}\n\nimpl App \\{\n    fn new\\(\\) -> Self \\{\n        Self \\{\n            tool: Tool::Line,\n            stroke_width: 3\\.0,\n            stroke_color: Color::from_rgb8\\(0xE6, 0xE6, 0xE6\\),\n            shapes: Vec::new\\(\\),\n            draft: Draft::default\\(\\),\n            cache: iced::widget::canvas::Cache::default\\(\\),\n        \\}\n    \\}\n\n    fn invalidate\\(&mut self\\) \\{\n        self\\.cache\\.clear\\(\\);\n    \\}\n\n    fn reset_draft\\(&mut self\\) \\{\n        self\\.draft = Draft::default\\(\\);\n    \\}\n\n    fn update\\(&mut self, message: Message\\) -> Task<Message> \\{\n        match message \\{\n            Message::ToolChanged\\(tool\\) => \\{\n                self\\.tool = tool;\n                self\\.reset_draft\\(\\);\n                self\\.invalidate\\(\\);\n            \\}\n            Message::StrokeWidthChanged\\(w\\) => \\{\n                self\\.stroke_width = w;\n                self\\.invalidate\\(\\);\n            \\}\n            Message::Undo => \\{\n                self\\.shapes\\.pop\\(\\);\n                self\\.reset_draft\\(\\);\n                self\\.invalidate\\(\\);\n            \\}\n            Message::Clear => \\{\n                self\\.shapes\\.clear\\(\\);\n                self\\.reset_draft\\(\\);\n                self\\.invalidate\\(\\);\n            \\}\n            Message::Canvas\\(event\\) => \\{\n                self\\.handle_canvas_event\\(event\\);\n            \\}\n        \\}\n\n        Task::none\\(\\)\n    \\}\n\n    fn handle_canvas_event\\(&mut self, event: CanvasEvent\\) \\{\n        use drawing::Tool::\\*;\n\n        match event \\{\n            CanvasEvent::PressedLeft\\(p\\) => match self\\.tool \\{\n                Line \\| Rect \\| Circle => \\{\n                    self\\.draft\\.drawing = true;\n                    self\\.draft\\.start = Some\\(p\\);\n                    self\\.draft\\.current = Some\\(p\\);\n                    self\\.invalidate\\(\\);\n                \\}\n                Spline => \\{\n                    self\\.draft\\.current = Some\\(p\\);\n                    self\\.draft\\.spline_points\\.push\\(p\\);\n                    self\\.invalidate\\(\\);\n                \\}\n            \\},\n            CanvasEvent::Moved\\(p\\) => \\{\n                self\\.draft\\.current = Some\\(p\\);\n                if self\\.draft\\.drawing \\|\\| self\\.tool == Spline \\{\n                    self\\.invalidate\\(\\);\n                \\}\n            \\}\n            CanvasEvent::ReleasedLeft\\(p\\) => match self\\.tool \\{\n                Line \\| Rect \\| Circle => \\{\n                    if !self\\.draft\\.drawing \\{\n                        return;\n                    \\}\n\n                    let Some\\(start\\) = self\\.draft\\.start else \\{\n                        self\\.reset_draft\\(\\);\n                        return;\n                    \\};\n\n                    if let Some\\(shape\\) = finish_drag_shape\\(self\\.tool, start, p\\) \\{\n                        self\\.shapes\\.push\\(shape\\);\n                    \\}\n\n                    self\\.reset_draft\\(\\);\n                    self\\.invalidate\\(\\);\n                \\}\n                Spline => \\{\n                    let _ = p;\n                \\}\n            \\},\n            CanvasEvent::PressedRight\\(_p\\) => \\{\n                if self\\.tool != Spline \\{\n                    return;\n                \\}\n\n                if self\\.draft\\.spline_points\\.len\\(\\) >= 2 \\{\n                    let points = std::mem::take\\(&mut self\\.draft\\.spline_points\\);\n                    self\\.shapes\\.push\\(Shape::Spline \\{ points \\}\\);\n                \\}\n\n                self\\.reset_draft\\(\\);\n                self\\.invalidate\\(\\);\n            \\}\n        \\}\n    \\}\n\n    fn view\\(&self\\) -> Element<'_, Message> \\{\n        let toolbar = row!\\[\n            text\\(\"工具\"\\),\n            pick_list\\(Tool::ALL\\.as_slice\\(\\), Some\\(self\\.tool\\), Message::ToolChanged\\)\n                \\.width\\(Length::Fixed\\(120\\.0\\)\\),\n            text\\(\"线宽\"\\),\n            slider\\(1\\.0\\.\\.=16\\.0, self\\.stroke_width, Message::StrokeWidthChanged\\)\n                \\.width\\(Length::Fixed\\(200\\.0\\)\\),\n            text\\(format!\\(\"\\{:\\.1\\}\", self\\.stroke_width\\)\\),\n            button\\(\"撤销\"\\)\\.on_press\\(Message::Undo\\),\n            button\\(\"清空\"\\)\\.on_press\\(Message::Clear\\),\n            text\\(\"样条：左键加点，右键结束\"\\),\n        \\]\n        \\.spacing\\(10\\)\n        \\.align_y\\(Alignment::Center\\);\n\n        let board = drawing::canvas\\(\n            &self\\.cache,\n            self\\.tool,\n            self\\.shapes\\.as_slice\\(\\),\n            &self\\.draft,\n            self\\.stroke_width,\n            self\\.stroke_color,\n            wrap_canvas_event,\n        \\);\n\n        column!\\[toolbar, board\\]\n            \\.spacing\\(10\\)\n            \\.padding\\(12\\)\n            \\.width\\(Length::Fill\\)\n            \\.height\\(Length::Fill\\)\n            \\.into\\(\\)\n    \\}\n\\}\n\nfn finish_drag_shape\\(tool: Tool, start: iced::Point, end: iced::Point\\) -> Option<Shape> \\{\n    match tool \\{\n        Tool::Line => Some\\(Shape::Line \\{ from: start, to: end \\}\\),\n        Tool::Rect => Some\\(Shape::Rect \\{ from: start, to: end \\}\\),\n        Tool::Circle => \\{\n            let radius = \\(\\(end\\.x - start\\.x\\)\\.powi\\(2\\) \\+ \\(end\\.y - start\\.y\\)\\.powi\\(2\\)\\)\\.sqrt\\(\\);\n            Some\\(Shape::Circle \\{\n                center: start,\n                radius,\n            \\}\\)\n        \\}\n        Tool::Spline => None,\n    \\}\n\\}\n\nfn main\\(\\) -> iced::Result \\{\n    iced::application\\(App::new, App::update, App::view\\)\n        \\.title\\(\"2D 矢量绘图\"\\)\n        \\.window_size\\(Size::new\\(1200\\.0, 800\\.0\\)\\)\n        \\.run\\(\\)\n\\}\n'''\npath\\.write_text\\(content, encoding='utf-8'\\)\nprint\\('wrote', path, 'bytes', len\\(content\\.encode\\('utf-8'\\)\\)\\)\nPY$/": {
            "approve": true,
            "matchCommandLine": true
        },
        "cargo build": true
    }
}